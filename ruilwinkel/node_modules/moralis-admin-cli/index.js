#!/usr/bin/env node
require('dotenv').config()
const help = require('./help')
const {watchCloudFile} = require('./commands/watchCloudFile')
const {updateServer} = require('./commands/updateServer')
const {createServer} = require('./commands/createServer')
const {connectLocalDevchain} = require('./commands/connectLocalDevchain')
const {addContract} = require('./commands/addContract')
const {deploy} = require('./commands/deploy')
const {undeploy} = require('./commands/undeploy')
const {valid_scripts} = require('./config');

// Get chosen action
const action = process.argv[2];

// Run selected command
switch(action){
    case "watch-cloud-file": return watchCloudFile();
    case "connect-local-devchain": return connectLocalDevchain();
    case "update-server": return updateServer();
    case "create-server": return createServer();
    case "add-contract": return addContract();
    case "deploy": return deploy();
    case "undeploy": return undeploy();
    case "help": return help.generalHelp();
    default :
        console.log(`Invalid script ${action}`);
        console.log(`The following are valid scripts:`);
        for (const valid_script of valid_scripts){
            console.log(valid_script);
        }
        return;
}